---
import "./system-preview.scss";
---

<section class="system-preview">
  <div class="container">
    <div class="section-header">
      <h2 class="title-section">Conoce nuestro sistema</h2>
      <p class="subtitle">
        Explora la interfaz intuitiva y las funcionalidades avanzadas de
        Solución Factura
      </p>
    </div>

    <div
      class="carousel-wrapper"
      style="position: relative; max-width: 900px; margin: 0 auto;"
    >
      <div
        class="carousel-container"
        id="carousel"
        style="overflow: hidden; border-radius: 12px; box-shadow: var(--theme-shadow-xl); background: var(--bg-card);"
      >
        <div
          class="carousel-track"
          id="carousel-track"
          style="display: flex; transition: transform 0.5s ease;"
        >
          <div
            class="carousel-slide active"
            style="min-width: 100%; flex-shrink: 0; position: relative; width: 100%; height: 450px; overflow: hidden; border-radius: 8px;"
          >
            <img
              src="https://solucionfactura.mx/images/1"
              alt="Dashboard Principal"
              loading="eager"
              style="width: 100%; height: 100%; object-fit: cover; display: block;"
            />
            <div
              class="slide-overlay"
              style="position: absolute; bottom: -20px; left: 0; right: 0; background: linear-gradient(transparent, rgba(0,0,0,0.95)); color: white; padding: 2rem; text-align: left; text-shadow: 1px 1px 2px rgba(0,0,0,0.7);"
            >
              <h3
                style="margin: 0 0 0.1rem 0; font-size: 1.5rem; font-weight: bold;"
              >
                Dashboard Principal
              </h3>
              <p style="margin: 0; font-size: 1rem; opacity: 0.9;">
                Vista general de tu facturación
              </p>
            </div>
          </div>

          <div
            class="carousel-slide"
            style="min-width: 100%; flex-shrink: 0; position: relative; width: 100%; height: 450px; overflow: hidden; border-radius: 8px;"
          >
            <img
              src="https://solucionfactura.mx/images/2"
              alt="Generación de Facturas"
              loading="lazy"
              style="width: 100%; height: 100%; object-fit: cover; display: block;"
            />
            <div
              class="slide-overlay"
              style="position: absolute; bottom: -20px; left: 0; right: 0; background: linear-gradient(transparent, rgba(0,0,0,0.95)); color: white; padding: 2rem; text-align: left; text-shadow: 1px 1px 2px rgba(0,0,0,0.7);"
            >
              <h3
                style="margin: 0 0 0.1rem 0; font-size: 1.5rem; font-weight: bold;"
              >
                Generación de Facturas
              </h3>
              <p style="margin: 0; font-size: 1rem; opacity: 0.9;">
                Crea facturas de forma rápida y sencilla
              </p>
            </div>
          </div>

          <div
            class="carousel-slide"
            style="min-width: 100%; flex-shrink: 0; position: relative; width: 100%; height: 450px; overflow: hidden; border-radius: 8px;"
          >
            <img
              src="https://solucionfactura.mx/images/3"
              alt="Convertidor PDF a Excel"
              loading="lazy"
              style="width: 100%; height: 100%; object-fit: cover; display: block;"
            />
            <div
              class="slide-overlay"
              style="position: absolute; bottom: -20px; left: 0; right: 0; background: linear-gradient(transparent, rgba(0,0,0,0.95)); color: white; padding: 2rem; text-align: left; text-shadow: 1px 1px 2px rgba(0,0,0,0.7);"
            >
              <h3
                style="margin: 0 0 0.1rem 0; font-size: 1.5rem; font-weight: bold;"
              >
                Convertidor PDF a Excel
              </h3>
              <p style="margin: 0; font-size: 1rem; opacity: 0.9;">
                Convierte estados de cuenta a Excel
              </p>
            </div>
          </div>

          <div
            class="carousel-slide"
            style="min-width: 100%; flex-shrink: 0; position: relative; width: 100%; height: 450px; overflow: hidden; border-radius: 8px;"
          >
            <img
              src="https://solucionfactura.mx/images/4"
              alt="Multi-empresa"
              loading="lazy"
              style="width: 100%; height: 100%; object-fit: cover; display: block;"
            />
            <div
              class="slide-overlay"
              style="position: absolute; bottom: -20px; left: 0; right: 0; background: linear-gradient(transparent, rgba(0,0,0,0.95)); color: white; padding: 2rem; text-align: left; text-shadow: 1px 1px 2px rgba(0,0,0,0.7);"
            >
              <h3
                style="margin: 0 0 0.1rem 0; font-size: 1.5rem; font-weight: bold;"
              >
                Multi-empresa
              </h3>
              <p style="margin: 0; font-size: 1rem; opacity: 0.9;">
                Maneja múltiples RFC desde un solo lugar
              </p>
            </div>
          </div>

          <div
            class="carousel-slide"
            style="min-width: 100%; flex-shrink: 0; position: relative; width: 100%; height: 450px; overflow: hidden; border-radius: 8px;"
          >
            <img
              src="https://solucionfactura.mx/images/5"
              alt="Descarga XML"
              loading="lazy"
              style="width: 100%; height: 100%; object-fit: cover; display: block;"
            />
            <div
              class="slide-overlay"
              style="position: absolute; bottom: -20px; left: 0; right: 0; background: linear-gradient(transparent, rgba(0,0,0,0.95)); color: white; padding: 2rem; text-align: left; text-shadow: 1px 1px 2px rgba(0,0,0,0.7);"
            >
              <h3
                style="margin: 0 0 0.1rem 0; font-size: 1.5rem; font-weight: bold;"
              >
                Descarga XML
              </h3>
              <p style="margin: 0; font-size: 1rem; opacity: 0.9;">
                Descarga masiva del SAT
              </p>
            </div>
          </div>

          <div
            class="carousel-slide"
            style="min-width: 100%; flex-shrink: 0; position: relative; width: 100%; height: 450px; overflow: hidden; border-radius: 8px;"
          >
            <img
              src="https://solucionfactura.mx/images/6"
              alt="Conciliación Bancaria"
              loading="lazy"
              style="width: 100%; height: 100%; object-fit: cover; display: block;"
            />
            <div
              class="slide-overlay"
              style="position: absolute; bottom: -20px; left: 0; right: 0; background: linear-gradient(transparent, rgba(0,0,0,0.95)); color: white; padding: 2rem; text-align: left; text-shadow: 1px 1px 2px rgba(0,0,0,0.7);"
            >
              <h3
                style="margin: 0 0 0.1rem 0; font-size: 1.5rem; font-weight: bold;"
              >
                Conciliación Bancaria
              </h3>
              <p style="margin: 0; font-size: 1rem; opacity: 0.9;">
                Automatiza tu contabilidad
              </p>
            </div>
          </div>

          <div
            class="carousel-slide"
            style="min-width: 100%; flex-shrink: 0; position: relative; width: 100%; height: 450px; overflow: hidden; border-radius: 8px;"
          >
            <img
              src="https://solucionfactura.mx/images/7"
              alt="Facturación Masiva"
              loading="lazy"
              style="width: 100%; height: 100%; object-fit: cover; display: block;"
            />
            <div
              class="slide-overlay"
              style="position: absolute; bottom: -20px; left: 0; right: 0; background: linear-gradient(transparent, rgba(0,0,0,0.95)); color: white; padding: 2rem; text-align: left; text-shadow: 1px 1px 2px rgba(0,0,0,0.7);"
            >
              <h3
                style="margin: 0 0 0.1rem 0; font-size: 1.5rem; font-weight: bold;"
              >
                Facturación Masiva
              </h3>
              <p style="margin: 0; font-size: 1rem; opacity: 0.9;">
                Procesa miles de facturas con un solo clic
              </p>
            </div>
          </div>

          <div
            class="carousel-slide"
            style="min-width: 100%; flex-shrink: 0; position: relative; width: 100%; height: 450px; overflow: hidden; border-radius: 8px;"
          >
            <img
              src="https://solucionfactura.mx/images/8"
              alt="Conciliación Bancaria Avanzada"
              loading="lazy"
              style="width: 100%; height: 100%; object-fit: cover; display: block;"
            />
            <div
              class="slide-overlay"
              style="position: absolute; bottom: -20px; left: 0; right: 0; background: linear-gradient(transparent, rgba(0,0,0,0.95)); color: white; padding: 2rem; text-align: left; text-shadow: 1px 1px 2px rgba(0,0,0,0.7);"
            >
              <h3
                style="margin: 0 0 0.1rem 0; font-size: 1.5rem; font-weight: bold;"
              >
                Conciliación Bancaria Avanzada
              </h3>
              <p style="margin: 0; font-size: 1rem; opacity: 0.9;">
                Automatiza la conciliación de tus cuentas
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Navigation Controls -->
      <button
        class="carousel-btn carousel-btn--prev"
        id="prev-btn"
        aria-label="Anterior"
        style="position: absolute; top: 50%; transform: translateY(-50%); left: 16px; background: var(--bg-card); border: 2px solid var(--border-color); color: var(--text-primary); width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.3s ease; z-index: 10; box-shadow: var(--theme-shadow-md); backdrop-filter: blur(10px);"
      >
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
          <path
            d="M15 18L9 12L15 6"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"></path>
        </svg>
      </button>

      <button
        class="carousel-btn carousel-btn--next"
        id="next-btn"
        aria-label="Siguiente"
        style="position: absolute; top: 50%; transform: translateY(-50%); right: 16px; background: var(--bg-card); border: 2px solid var(--border-color); color: var(--text-primary); width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.3s ease; z-index: 10; box-shadow: var(--theme-shadow-md); backdrop-filter: blur(10px);"
      >
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
          <path
            d="M9 18L15 12L9 6"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"></path>
        </svg>
      </button>

      <!-- Dots Indicator -->
      <div
        class="carousel-dots"
        id="carousel-dots"
        style="display: flex; justify-content: center; gap: 0.5rem; margin-top: 0.75rem; margin-bottom: 2rem;"
      >
      </div>
    </div>
  </div>

  <script is:inline>
    window.addEventListener("load", function () {
      const track = document.getElementById("carousel-track");
      const slides = track.querySelectorAll(".carousel-slide");
      const prevBtn = document.getElementById("prev-btn");
      const nextBtn = document.getElementById("next-btn");

      let currentSlide = 0;
      const totalSlides = slides.length;
      let autoplayInterval;

      function updateCarousel() {
        track.style.transform = `translateX(-${currentSlide * 100}%)`;
      }

      function nextSlide() {
        currentSlide = (currentSlide + 1) % totalSlides;
        updateCarousel();
      }

      function prevSlide() {
        currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
        updateCarousel();
      }

      function startAutoplay() {
        autoplayInterval = setInterval(nextSlide, 4000);
      }

      prevBtn.addEventListener("click", function () {
        prevSlide();
        clearInterval(autoplayInterval);
        setTimeout(startAutoplay, 2000);
      });

      nextBtn.addEventListener("click", function () {
        nextSlide();
        clearInterval(autoplayInterval);
        setTimeout(startAutoplay, 2000);
      });

      startAutoplay();
    });
  </script>
</section>
